from google.adk.agents.llm_agent import Agent

# 모든 중분류를 instruction에 직접 넣는다
CATEGORY_TITLES = [
    "영업점 업무개요", "창구관리 및 책임자거래 업무", "PWM라운지 업무", "관리점/관리자 제도",
    "전자문서", "금융실명제업무",
    "계좌개설", "투자자정보", "전용계좌", "계좌통폐합 관리 및 상품해지",
    "금융사기 예방업무 및 피해금 환급업무", "전기통신금융사기",
    "자금세탁방지 및 고객확인서", "비거주외국인 업무안내",
    "서비스", "서비스(이체관련)", "계좌정보변경", "카드(통장)관리",
    "증명서발급", "우편물관리", "타금융기관제휴/우리사주", "테스트계좌 관리",

    "입출금관리", "입출고관리", "질권관리", "소액결제",
    "증권/현금 사고 매뉴얼", "은행제휴계좌업무", "비대면 제휴업무",

    "주식매매주문", "기타매매", "매매관리", "매매체결 및 결제",
    "파생증권", "해외거래 개인(신용)정보동의", "해외주식",
    "선물옵션 업무관리", "선물옵션 매매관리", "반대매매 및 미수금 관리",
    "CFD서비스", "착오매매 정정",

    "FX마진", "해외선물", "해외옵션",

    "신용개설/대출등록", "담보관리", "대차(대여)서비스",
    "공매도(대주/차입)사전투자경험 및 거래한도",

    "주식권리업무", "채권권리업무",

    "공모주/실권주 청약", "공개매수", "기업공개개요",

    "등급에 따른 상품 가입 (부적합상품)", "고령층 및 고령투자자 적용제도",
    "RP", "수익증권(펀드)", "수익증권 상품별 특성", "증권저축",
    "해외뮤추얼펀드", "플랜yes서비스", "채권", "신탁", "Wrap",
    "ELS/DLS", "ISA 전용계좌", "퇴직연급", "연금저축계좌",
    "CD", "스왑(ARS)", "M Folio(엠폴리오)", "방카슈랑스",

    "업무공통", "기간수익률", "영업직권 업무권한"
]

root_agent = Agent(
    model="gemini-2.5-flash",
    name="title_router",
    description="LLM 기반 중분류 라우팅 에이전트",
    instruction=f"""
당신의 임무는 사용자의 질문을 보고,
아래 중분류 목록에서 **가장 관련 있는 제목 하나만** 골라 JSON으로 반환하는 것입니다.

반드시 다음 형식으로 출력하세요:
{{
  "category": "선택된 중분류 제목"
}}

중분류 목록:
{CATEGORY_TITLES}
"""
)

__all__ = ["root_agent"]
